(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-index-index"],{"08f6":function(e,i,t){"use strict";t.r(i);var a=t("6744"),r=t("7a78");for(var n in r)"default"!==n&&function(e){t.d(i,e,function(){return r[e]})}(n);t("b62f");var s=t("2877"),c=Object(s["a"])(r["default"],a["a"],a["b"],!1,null,"49a6728e",null);i["default"]=c.exports},"10d2":function(e,i,t){i=e.exports=t("2350")(!1),i.push([e.i,".uni-list[data-v-49a6728e]:after,.uni-list[data-v-49a6728e]:before{display:none}",""])},6744:function(e,i,t){"use strict";var a=function(){var e=this,i=e.$createElement,t=e._self._c||i;return t("v-uni-view",[t("v-uni-view",{staticClass:"uni-padding-wrap"},[t("v-uni-form",{on:{submit:function(i){i=e.$handleEvent(i),e.formSubmit(i)},reset:function(i){i=e.$handleEvent(i),e.formReset(i)}}},[t("v-uni-view",[t("v-uni-view",{staticClass:"uni-title"},[e._v("公民姓名")]),t("v-uni-view",{staticClass:"uni-list"},[t("v-uni-view",{staticClass:"uni-list-cell"},[t("v-uni-input",{staticClass:"uni-input",attrs:{name:"staff_name"},model:{value:e.staff_name,callback:function(i){e.staff_name=i},expression:"staff_name"}})],1)],1)],1),t("v-uni-view",{staticStyle:{"border-bottom":"#c8c7cc solid 1upx","border-top":"#c8c7cc solid 1upx","padding-bottom":"30upx"}},[t("v-uni-view",{staticClass:"uni-title"},[e._v("公民性别")]),t("v-uni-radio-group",{staticClass:"uni-flex",attrs:{name:"gender"}},[t("v-uni-label",[t("v-uni-radio",{attrs:{value:"male"}}),e._v("男")],1),t("v-uni-label",[t("v-uni-radio",{attrs:{value:"female"}}),e._v("女")],1)],1)],1),t("v-uni-view",{staticStyle:{"border-bottom":"#c8c7cc solid 1upx"}},[t("v-uni-view",{staticClass:"uni-title"},[e._v("公民年龄")]),t("v-uni-view",{staticClass:"uni-list"},[t("v-uni-view",{staticClass:"uni-list-cell"},[t("v-uni-input",{staticClass:"uni-input",attrs:{name:"age"},model:{value:e.age,callback:function(i){e.age=i},expression:"age"}})],1)],1)],1),t("v-uni-view",[t("v-uni-view",{staticClass:"uni-title"},[e._v("联系电话")]),t("v-uni-view",{staticClass:"uni-list"},[t("v-uni-view",{staticClass:"uni-list-cell"},[t("v-uni-input",{staticClass:"uni-input",attrs:{name:"phone"},model:{value:e.phone,callback:function(i){e.phone=i},expression:"phone"}})],1)],1)],1),t("v-uni-view",{staticStyle:{"border-bottom":"#c8c7cc solid 1upx","border-top":"#c8c7cc solid 1upx"}},[t("v-uni-view",{staticClass:"uni-title"},[e._v("所住地址")]),t("v-uni-view",{staticClass:"uni-list"},[t("v-uni-view",{staticClass:"uni-list-cell"},[t("v-uni-input",{staticClass:"uni-input",attrs:{name:"address"},model:{value:e.address,callback:function(i){e.address=i},expression:"address"}})],1)],1)],1),t("v-uni-view",{staticStyle:{"border-bottom":"#c8c7cc solid 1upx"}},[t("v-uni-view",{staticClass:"uni-title"},[e._v("身份号码")]),t("v-uni-view",{staticClass:"uni-list"},[t("v-uni-view",{staticClass:"uni-list-cell"},[t("v-uni-input",{staticClass:"uni-input",attrs:{name:"id_card_no"},model:{value:e.id_card_no,callback:function(i){e.id_card_no=i},expression:"id_card_no"}})],1)],1)],1),t("v-uni-view",{staticClass:"grace-idcard-main",staticStyle:{"border-bottom":"#c8c7cc solid 1upx",margin:"0upx","padding-bottom":"40upx"}},[t("v-uni-view",{staticClass:"grace-idcard-text"},[e._v("身份证照片 ( 正面 )")]),t("v-uni-view",{staticClass:"grace-idcard-items"},[t("v-uni-view",{staticClass:"grace-idcard-uper-btn",on:{click:function(i){i=e.$handleEvent(i),e.selectImg1(i)}}},[t("v-uni-view",{staticClass:"img"},[t("v-uni-image",{attrs:{src:"../../static/imgs/camera.png",mode:"widthFix"}})],1),t("v-uni-view",{staticClass:"text"},[e._v("拍摄或选择照片")])],1),t("v-uni-view",{staticClass:"grace-idcard-preview"},[t("v-uni-image",{attrs:{src:e.card_front,mode:"widthFix"},on:{click:function(i){i=e.$handleEvent(i),e.previewImg1(i)}}})],1)],1),t("v-uni-view",{staticClass:"grace-idcard-text"},[e._v("身份证照片 ( 背面 )")]),t("v-uni-view",{staticClass:"grace-idcard-items"},[t("v-uni-view",{staticClass:"grace-idcard-uper-btn",on:{click:function(i){i=e.$handleEvent(i),e.selectImg2(i)}}},[t("v-uni-view",{staticClass:"img"},[t("v-uni-image",{attrs:{src:"../../static/imgs/camera.png",mode:"widthFix"}})],1),t("v-uni-view",{staticClass:"text"},[e._v("拍摄或选择照片")])],1),t("v-uni-view",{staticClass:"grace-idcard-preview"},[t("v-uni-image",{attrs:{src:e.card_back,mode:"widthFix"},on:{click:function(i){i=e.$handleEvent(i),e.previewImg2(i)}}})],1)],1),t("v-uni-view",{staticStyle:{"margin-top":"38upx"}},[t("v-uni-button",{attrs:{type:"default"},on:{click:function(i){i=e.$handleEvent(i),e.uploadCards(i)}}},[e._v("上传身份证")])],1)],1),t("v-uni-view",{staticStyle:{"border-bottom":"#c8c7cc solid 1upx","padding-bottom":"30upx"}},[t("v-uni-view",{staticClass:"uni-title"},[e._v("是否参加过相关培训")]),t("v-uni-radio-group",{staticClass:"uni-flex",attrs:{name:"is_trained"}},[t("v-uni-label",[t("v-uni-radio",{attrs:{value:"true"}}),e._v("是")],1),t("v-uni-label",[t("v-uni-radio",{attrs:{value:"false"}}),e._v("否")],1)],1)],1),t("v-uni-view",{staticStyle:{"border-bottom":"#c8c7cc solid 1upx","padding-bottom":"30upx"}},[t("v-uni-view",{staticClass:"uni-title"},[e._v("工作状态")]),t("v-uni-radio-group",{staticClass:"uni-flex",attrs:{name:"working_state"}},[t("v-uni-label",[t("v-uni-radio",{attrs:{value:"working"}}),e._v("在职")],1),t("v-uni-label",[t("v-uni-radio",{attrs:{value:"training"}}),e._v("培训中心")],1),t("v-uni-label",[t("v-uni-radio",{attrs:{value:"school"}}),e._v("在校生")],1)],1)],1),t("v-uni-view",{staticClass:"uni-btn-v uni-common-mt",staticStyle:{"padding-bottom":"40upx"}},[t("v-uni-button",{staticClass:"btn-submit",attrs:{formType:"submit",type:"primary"}},[e._v("下一步")])],1)],1)],1)],1)},r=[];t.d(i,"a",function(){return a}),t.d(i,"b",function(){return r})},"7a78":function(e,i,t){"use strict";t.r(i);var a=t("7c23"),r=t.n(a);for(var n in a)"default"!==n&&function(e){t.d(i,e,function(){return a[e]})}(n);i["default"]=r.a},"7c23":function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a,r=t("e4e7"),n={data:function(){return{card_front:"../../static/imgs/idcard1.png",card_back:"../../static/imgs/idcard2.png",id_card_front:"",id_card_back:"",id_card_no:"",staff_name:"",gender:"",age:"",phone:"",address:"",is_trained:"",working_state:""}},onLoad:function(){a=this},methods:{selectImg1:function(){uni.chooseImage({count:1,sizeType:["compressed"],sourceType:["album","camera"],success:function(e){a.card_front=e.tempFilePaths[0]}})},selectImg2:function(){uni.chooseImage({count:1,sizeType:["compressed"],sourceType:["album","camera"],success:function(e){a.card_back=e.tempFilePaths[0]}})},previewImg1:function(){uni.previewImage({urls:[a.card_front]})},previewImg2:function(){uni.previewImage({urls:[a.card_back]})},uploadCards:function(){if("../../static/imgs/idcard1.png"!=this.card_front&&"../../static/imgs/idcard2.png"!=this.card_back){uni.showLoading({title:"上传中"});uni.uploadFile({url:"http://staff.sxsc.ltd/upload",filePath:a.card_front,fileType:"image",name:"file",success:function(e){a.id_card_front=JSON.parse(e.data).filepath;uni.uploadFile({url:"http://staff.sxsc.ltd/upload",filePath:a.card_back,fileType:"image",name:"file",success:function(e){uni.hideLoading(),uni.showToast({title:"上传完毕",duration:2e3}),a.id_card_back=JSON.parse(e.data).filepath},fail:function(e){e.errMsg?uni.showToast({title:"未连接服务器",duration:2e3,icon:"none"}):(uni.showToast({title:"上传失败",duration:2e3,icon:"none"}),console.log(e))}})},fail:function(e){e.errMsg?uni.showToast({title:"未连接服务器",duration:2e3,icon:"none"}):(uni.showToast({title:"上传失败",duration:2e3,icon:"none"}),console.log(e))}})}else uni.showToast({title:"请选择身份证照片",icon:"none"})},formSubmit:function(e){var i=[{name:"staff_name",checkType:"varchar",checkRule:"1,3",errorMsg:"姓名应为1-3个字符"},{name:"gender",checkType:"varchar",checkRule:"男,女",errorMsg:"请选择性别"},{name:"age",checkType:"int",checkRule:"1,2",errorMsg:"请输入您的正确年龄"},{name:"phone",checkType:"int",checkRule:"9,10",errorMsg:"请输入您的正确联系电话"},{name:"address",checkType:"varchar",checkRule:"",errorMsg:"请输入您的所住地址"},{name:"id_card_no",checkType:"int",checkRule:"15,17",errorMsg:"身份号码输入错误或未填写"},{name:"is_trained",checkType:"varchar",checkRule:"是,否",errorMsg:"请选择是否参加相关培训"},{name:"working_state",checkType:"varchar",checkRule:"在职,培训中,在校生",errorMsg:"请选择工作状态"}],t=e.detail.value,n=r.check(t,i);if(n){if("../../static/imgs/idcard1.png"==this.card_front||"../../static/imgs/idcard2.png"==this.card_back)return void uni.showToast({title:"未上传身份证正反照片",duration:2e3,icon:"none"});if(""==a.id_card_front&&""==a.id_card_back)return void uni.showToast({title:"请点击上传身份证按钮再下一步",duration:2e3,icon:"none"});uni.showToast({title:"完成验证，下一步!",duration:2e3,icon:"none"});var s=JSON.stringify(t);uni.navigateTo({url:"../generate/generate?id_card_front="+this.id_card_front+"&id_card_back="+this.id_card_back+"&indexData="+s})}else uni.showToast({title:r.error,duration:2e3,icon:"none"})}}};i.default=n},b62f:function(e,i,t){"use strict";var a=t("bd73"),r=t.n(a);r.a},bd73:function(e,i,t){var a=t("10d2");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var r=t("4f06").default;r("0157dedb",a,!0,{sourceMap:!1,shadowMode:!1})},e4e7:function(e,i,t){"use strict";e.exports={error:"",check:function(e,i){for(var t=0;t<i.length;t++){if(!i[t].checkType)return!0;if(!i[t].name)return!0;if(!i[t].errorMsg)return!0;if(!e[i[t].name])return this.error=i[t].errorMsg,!1;switch(i[t].checkType){case"string":var a=new RegExp("^.{"+i[t].checkRule+"}$");if(!a.test(e[i[t].name]))return this.error=i[t].errorMsg,!1;break;case"int":a=new RegExp("^(-[1-9]|[1-9])[0-9]{"+i[t].checkRule+"}$");if(!a.test(e[i[t].name]))return this.error=i[t].errorMsg,!1;break;case"between":if(!this.isNumber(e[i[t].name]))return this.error=i[t].errorMsg,!1;var r=i[t].checkRule.split(",");if(r[0]=Number(r[0]),r[1]=Number(r[1]),e[i[t].name]>r[1]||e[i[t].name]<r[0])return this.error=i[t].errorMsg,!1;break;case"betweenD":a=/^-?[1-9][0-9]?$/;if(!a.test(e[i[t].name]))return this.error=i[t].errorMsg,!1;r=i[t].checkRule.split(",");if(r[0]=Number(r[0]),r[1]=Number(r[1]),e[i[t].name]>r[1]||e[i[t].name]<r[0])return this.error=i[t].errorMsg,!1;break;case"betweenF":a=/^-?[0-9][0-9]?.+[0-9]+$/;if(!a.test(e[i[t].name]))return this.error=i[t].errorMsg,!1;r=i[t].checkRule.split(",");if(r[0]=Number(r[0]),r[1]=Number(r[1]),e[i[t].name]>r[1]||e[i[t].name]<r[0])return this.error=i[t].errorMsg,!1;break;case"same":if(e[i[t].name]!=i[t].checkRule)return this.error=i[t].errorMsg,!1;break;case"notsame":if(e[i[t].name]==i[t].checkRule)return this.error=i[t].errorMsg,!1;break;case"email":a=/^\w+([-+.']\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/;if(!a.test(e[i[t].name]))return this.error=i[t].errorMsg,!1;break;case"phoneno":a=/^1[0-9]{10,10}$/;if(!a.test(e[i[t].name]))return this.error=i[t].errorMsg,!1;break;case"zipcode":a=/^[0-9]{6}$/;if(!a.test(e[i[t].name]))return this.error=i[t].errorMsg,!1;break;case"reg":a=new RegExp(i[t].checkRule);if(!a.test(e[i[t].name]))return this.error=i[t].errorMsg,!1;break;case"in":if(-1==i[t].checkRule.indexOf(e[i[t].name]))return this.error=i[t].errorMsg,!1;break;case"notnull":if(null==e[i[t].name]||e[i[t].name].length<1)return this.error=i[t].errorMsg,!1;break}}return!0},isNumber:function(e){return e=Number(e),NaN!=e}}}}]);